const a12_0x410625=a12_0x1827;(function(_0x5cbd66,_0x5b1cb4){const _0x4a058e=a12_0x1827,_0x1a8012=_0x5cbd66();while(!![]){try{const _0x98042f=parseInt(_0x4a058e(0x8c))/0x1*(parseInt(_0x4a058e(0x85))/0x2)+parseInt(_0x4a058e(0x82))/0x3+-parseInt(_0x4a058e(0xa3))/0x4*(parseInt(_0x4a058e(0x88))/0x5)+parseInt(_0x4a058e(0x71))/0x6+parseInt(_0x4a058e(0xa1))/0x7+parseInt(_0x4a058e(0x75))/0x8+-parseInt(_0x4a058e(0x83))/0x9*(parseInt(_0x4a058e(0x84))/0xa);if(_0x98042f===_0x5b1cb4)break;else _0x1a8012['push'](_0x1a8012['shift']());}catch(_0x3f3ce9){_0x1a8012['push'](_0x1a8012['shift']());}}}(a12_0x1fec,0xe6e6b));const axios=require(a12_0x410625(0x9e)),fs=require('fs'),path=require(a12_0x410625(0x73)),{tmpdir}=require('os'),Crypto=require(a12_0x410625(0x8a)),ffmpegPath=require('@ffmpeg-installer/ffmpeg')[a12_0x410625(0x73)],ffmpeg=require('fluent-ffmpeg');ffmpeg[a12_0x410625(0x94)](ffmpegPath);function a12_0x1fec(){const _0x585a9d=['Error\x20fetching\x20image:','hJYGS','default','Could\x20not\x20fetch\x20GIF.','zQXJB','-loop','.gif','readFileSync','2078298HcATcL','309348gXuqCe','570jpzALO','102yGqaph','KmzuE','hex','45phHjnO','-vcodec','crypto','join','2645OfGfuW','Could\x20not\x20fetch\x20image.','QvSbj','data','pjwCf','toFormat','randomBytes','.webp','setFfmpegPath','ZfigI','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','writeFileSync','JUYTn','-an','-vf','get','arraybuffer','-vsync','axios','wqOGD','AWGIr','8589441gyQtwa','toString','199352YmmZOo','69408iaVUHd','libwebp','path','addOutputOptions','10297800lxVaWh','udvZR','error','MAvvH','unlinkSync'];a12_0x1fec=function(){return _0x585a9d;};return a12_0x1fec();}async function fetchImage(_0x19c9d6){const _0x402a67=a12_0x410625,_0x5831ef={'zQXJB':_0x402a67(0x7a),'avRrI':_0x402a67(0x8d)};try{const _0x10b60d=await axios[_0x402a67(0x9b)](_0x19c9d6,{'responseType':'arraybuffer'});return _0x10b60d[_0x402a67(0x8f)];}catch(_0x3a87f2){console[_0x402a67(0x77)](_0x5831ef[_0x402a67(0x7e)],_0x3a87f2);throw new Error(_0x5831ef['avRrI']);}}async function fetchGif(_0x44fe0b){const _0x46d365=a12_0x410625,_0xe016b7={'AWGIr':_0x46d365(0x9c),'pjwCf':'Error\x20fetching\x20GIF:','lVzqA':_0x46d365(0x7d)};try{const _0x54bb9a=await axios[_0x46d365(0x9b)](_0x44fe0b,{'responseType':_0xe016b7[_0x46d365(0xa0)]});return _0x54bb9a[_0x46d365(0x8f)];}catch(_0x294430){console[_0x46d365(0x77)](_0xe016b7[_0x46d365(0x90)],_0x294430);throw new Error(_0xe016b7['lVzqA']);}}async function gifToSticker(_0x2f16b7){const _0x3d3256=a12_0x410625,_0x39e96e={'PQhtV':_0x3d3256(0x77),'ZfigI':'end','JUYTn':_0x3d3256(0x89),'hJYGS':_0x3d3256(0x72),'MAvvH':_0x3d3256(0x9a),'OCcHu':_0x3d3256(0x7f),'udvZR':'-preset','tobaR':_0x3d3256(0x7c),'wqOGD':_0x3d3256(0x9d),'QvSbj':'webp','KmzuE':function(_0x4c033f,_0x161126){return _0x4c033f+_0x161126;},'PBzIH':function(_0x52e798){return _0x52e798();}},_0x3b0e16=path['join'](tmpdir(),_0x39e96e[_0x3d3256(0x86)](Crypto[_0x3d3256(0x92)](0x6)[_0x3d3256(0xa2)](_0x3d3256(0x87)),_0x3d3256(0x93))),_0x3af5bd=path[_0x3d3256(0x8b)](_0x39e96e['PBzIH'](tmpdir),Crypto[_0x3d3256(0x92)](0x6)[_0x3d3256(0xa2)](_0x3d3256(0x87))+_0x3d3256(0x80));fs[_0x3d3256(0x97)](_0x3af5bd,_0x2f16b7),await new Promise((_0x50b73c,_0x51e7cf)=>{const _0xdaa05c=_0x3d3256;ffmpeg(_0x3af5bd)['on'](_0x39e96e['PQhtV'],_0x51e7cf)['on'](_0x39e96e[_0xdaa05c(0x95)],()=>_0x50b73c(!![]))[_0xdaa05c(0x74)]([_0x39e96e[_0xdaa05c(0x98)],_0x39e96e[_0xdaa05c(0x7b)],_0x39e96e[_0xdaa05c(0x78)],_0xdaa05c(0x96),_0x39e96e['OCcHu'],'0',_0x39e96e[_0xdaa05c(0x76)],_0x39e96e['tobaR'],_0xdaa05c(0x99),_0x39e96e[_0xdaa05c(0x9f)],'0'])[_0xdaa05c(0x91)](_0x39e96e[_0xdaa05c(0x8e)])['save'](_0x3b0e16);});const _0x40199e=fs[_0x3d3256(0x81)](_0x3b0e16);return fs[_0x3d3256(0x79)](_0x3b0e16),fs[_0x3d3256(0x79)](_0x3af5bd),_0x40199e;}function a12_0x1827(_0x535417,_0x54781c){const _0x1fec92=a12_0x1fec();return a12_0x1827=function(_0x182759,_0x1b2002){_0x182759=_0x182759-0x71;let _0x264cea=_0x1fec92[_0x182759];return _0x264cea;},a12_0x1827(_0x535417,_0x54781c);}module['exports']={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};